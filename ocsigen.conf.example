<!-- Example of ocsigen.conf for ocsimore. Adapt it to your configuration -->

<ocsigen>

  <server>

    <port>8080</port>
    <logdir>/var/log</logdir>
    <datadir>/var/lib</datadir>
    <user>www-data</user>
    <group>www-data</group>
    <charset>utf-8</charset>
    <commandpipe>/tmp/cpipe</commandpipe>

    <debugmode/>

    <findlib path="/usr/local/lib/ocsigen/METAS"/>

    <extension findlib-package="ocsigen_ext.staticmod"/>
    <extension findlib-package="ocsigen_ext.ocsipersist-sqlite">
      <!-- If you want to specify the SQLITE database file yourself:
      <database file="/PATH_TO/ocsigen/var/lib/ocsidb"/>
      -->
    </extension>

    <extension findlib-package="ocsigen_ext.eliom"/>
    <extension findlib-package="ocsigen_ext.eliom_duce"/>
    <extension findlib-package="ocsigen_ext.accesscontrol"/>
    <extension findlib-package="pgocaml"/>
    <extension findlib-package="pam"/>
    <extension module="ocsimore.cma">
      <passwordfile name="/etc/ocsigen/ocsimorepassword" />
    </extension>

    <host defaulthostname="localhost">

      <static dir="static" />
      <eliommodule module="ocsisite.cmo">

        <!-- Update this path if you do not launch Ocsigen from the directory
             in which Ocsimore is compiled -->
        <admin staticdir="static" />

        <!-- The following arguments are optional: -->

        <notsecure/> <!-- accept login with http or https (DANGEROUS!)
                          If you do not want that option,
                          you need to configure HTTPS. -->

        <!-- For PAM authentication; Create your service file in /etc/pam.d -->
        <!--pam service="ocsimore" /-->
        <!-- Otherwise you can use NIS -->
        <nis />

        <!-- To create Ocsimore users: -->
        <basicusercreation registration_mail_from="Ocsimore" registration_mail_addr="ocsimore@somewhere.nowhere.com" registration_mail_subject="Ocsimore registration" groups="users"/>

      </eliommodule>

      <!-- The following option has effect only the first time, and creates the
           specified wiki. Already created wikis are automatically reloaded -->
      <eliommodule module="ocsicreatewiki.cmo">
        <name>My wiki</name>
        <path>/</path>

        <readers>anonymous</readers>
        <writers>users</writers>
        <rightsadm>admin</rightsadm>
        <wikiboxescreators>users</wikiboxescreators>
        <containeradm>admin</containeradm>
        <pagecreators>users</pagecreators>
        <csseditors>users</csseditors>
        <admins>admin</admins>
        <boxrights/>
      </eliommodule>

      <eliom/>

    </host>

    <!-- It is possible to define new Ocsimore groups from the config file: -->

    <!--extension module="ocsimore.cma">
      <group name="intranet">
        <!-- Use one condition with accesscontrol's syntax: -->
        <or>
          <ip value="134.157.168.0/25" />
          <ip value="192.168.0.0/24" />
          <ip value="2001:660:3301:8061::/64" />
        </or>
      </group>
    </extension-->

  </server>

</ocsigen>

<ocsigen>
  <!-- Example of ocsigen.conf for ocsimore. Adapt it to your configuration -->


  <server>

    <port>8080</port>
    <logdir>/var/log/ocsimore</logdir>
    <datadir>/var/lib/ocsimore</datadir>
    <user>_USER_</user>
    <group>_GROUP_</group>
    <charset>utf-8</charset>
    <commandpipe>/var/run/ocsimore_command</commandpipe>

    <debugmode/>

    <findlib path="_OCSIMOREDIR_"/>

    <extension findlib-package="ocsigen.ext.staticmod"/>
    <extension findlib-package="ocsigen.ext.ocsipersist-sqlite">
      <!-- If you want to specify the SQLITE database file yourself:
      <database file="/PATH_TO/ocsigen/var/lib/ocsidb"/>
      -->
    </extension>

    <extension findlib-package="ocsigen.ext.eliom"/>
    <extension findlib-package="ocsigen.ext.eliom_duce"/>
    <extension findlib-package="ocsigen.ext.accesscontrol"/>
    <extension findlib-package="pgocaml"/>
    <extension findlib-package="pam"/>
    <extension findlib-package="ocsimore">
      <passwordfile name="/etc/ocsigen/ocsimorepassword" />
    </extension>
    <extension findlib-package="ocsimore.forum" />

    <!-- personal pages: -->
    <extension findlib-package="ocsigen.ext.userconf"/>
    <extension findlib-package="ocsigen.ext.extendconfiguration"/>
    <extension findlib-package="ocsigen.ext.redirectmod"/>
    <!-- END personal pages -->


    <host defaulthostname="localhost">

      <eliommodule findlib-package="ocsimore.page" >
        <admin staticdir="_STATICDIR_" />
      </eliommodule>


      <eliommodule findlib-package="ocsimore.users">
        <!-- The following arguments are optional: -->

        <notsecure/> <!-- accept login with http or https (DANGEROUS!)
                          If you do not want that option,
                          you need to configure HTTPS. -->

        <!-- For PAM authentication; Create your service file in /etc/pam.d -->
        <!--pam service="ocsimore" /-->
        <!-- Otherwise you can use NIS -->
        <nis />

        <!-- To create Ocsimore users: -->
        <basicusercreation registration_mail_from="Ocsimore" registration_mail_addr="ocsimore@somewhere.nowhere.com" registration_mail_subject="Ocsimore registration" groups=""/><!-- The "groups" field can contain groups in which the new
user will be automatically added" -->
      </eliommodule>

      <eliommodule findlib-package="ocsimore.wiki">
        <!-- If you use Ocsimore in more than one host or site, you can use the
             siteid tag to distinguish between the various instances -->
        <!--siteid id="host1" /-->
      </eliommodule>

<!-- personal pages: 
      <eliommodule findlib-package="ocsimore.wikiperso">
        <options username="~([^/]*).*" wikiroot="~$USER" />
      </eliommodule>
      <site path="">

           <charset default=""/>
           <followsymlinks value="ownermatch"/>
           <redirect regexp="(https?://[^/]*)/~([^/]*)" dest="$1/~$2/" />
           <userconf regexp="~([^/]*)/(.*)" conf="$u($1)/.ocsigen" prefix="~$1" url="$2" localpath="$u($1)/public_html" />
<!--           <cgi regexp="~([^/]*)(.*)/$"
                dir="$u($1)/public_html/$2"
                script="index.php"
                exec="/usr/bin/php-cgi"/>
           <cgi regexp="~([^/]*)(.*)/([^/]*).php$"
                dir="$u($1)/public_html$2"
                script="$3.php"
                exec="/usr/bin/php-cgi"/> -->

           <static regexp="~([^/]*)(.*)" dest="$u($1)/public_html$2" />
      </site>
 END personal pages -->


      <eliommodule findlib-package="ocsimore.forum.site" />



<!--      <eliommodule module="_build/forum/ocsicreateforum.cmo">
        <name>My forum</name>
      </eliommodule> -->

      <eliom/>

    </host>

    <!-- It is possible to define new Ocsimore groups from the config file: -->

    <!--extension findlib-package="ocsimore">
      <group name="intranet">
        <!-- Use one condition with accesscontrol's syntax: -->
        <or>
          <ip value="134.157.168.0/25" />
          <ip value="192.168.0.0/24" />
          <ip value="2001:660:3301:8061::/64" />
        </or>
      </group>
    </extension-->

  </server>

</ocsigen>
